{"version":3,"file":"content.js","sources":["/Users/nathanhood11/Documents/Code/web/app/static/js/es6/content.es6.js","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"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","sourcesContent":["/* global editor, _ */\n/* jshint unused:false */\n\nfunction ajax(url, verb, data={}, success=r=>console.log(r), dataType='html'){//defaulting to html\n    'use strict';\n  $.ajax({url:url, type:verb, dataType:dataType, data:data, success:success});\n}\n\n\n\n(function() {\n  'use strict';\n\n  $(document).ready(initialize);\n\n  function initialize() {\n    $('#create-content').click(createContent);\n    $('#add-link').click(addLinkResource);\n    $('#add-video').click(addVideoResource);\n  }\n\n\n  function addLinkResource(){\n    var resource = $('.link-resource:first').clone();\n    $(resource).children().val('').appendTo('.link-resource-shell');\n  }\n\n  function addVideoResource(){\n    var resource = $('.video-resource:first').clone();\n    $(resource).children().val('').appendTo('.video-resource-shell');\n  }\n\n  function createContent(event){\n    var array = [];\n    $('#resource-links').serialize().split('&').forEach(s=>{\n      var string = s.split('=');\n      var obj = {};\n      obj[string[0]] = string[1];\n      array.push(obj);\n    });\n\n    var titles = array.map((obj, i)=>{\n      if(i % 2 === 0){\n        return obj;\n      }\n    });\n\n    var urls = array.map((obj, i)=>{\n      if(i % 2){\n        return obj;\n      }\n    });\n\n    var finalTitles = _.compact(titles);\n    var finalUrls = _.compact(urls);\n    var resources = [];\n    for(var j = 0 ; j < finalTitles.length; j++){\n      var assignment = _.assign(finalTitles[j], finalUrls[j]);\n      resources.push(assignment);\n    }\n\n    var videos = $('.video-resource-shell').find('.text').map((index, video)=>$(video).val()).toArray();\n    var html = editor.getHTML();\n    var title = $('h1').text();\n    var courseId = $('h1').data('courseid');\n    ajax(`/teacher/${courseId}/content/create`, 'POST', {title: title, bodyText:html, resources:resources, videos:videos}, html=>{\n      window.location = '/courses/edit';\n    });\n    event.preventDefault();\n  }\n\n  function clip(string){\n    return string.trim();\n  }\n\n})();\n","$traceurRuntime.setProperty($__placeholder__0,\n          $__placeholder__1, $__placeholder__2)","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]"]}