{"version":3,"file":"test.js","sources":["/Users/nathanhood11/Documents/Code/web/app/static/js/es6/test.es6.js","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"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","sourcesContent":["/* global editor, _, json */\n/* jshint unused:false */\n\nfunction ajax(url, verb, data={}, success=r=>console.log(r), dataType='html'){//defaulting to html\n    'use strict';\n  $.ajax({url:url, type:verb, dataType:dataType, data:data, success:success});\n}\n\n(function() {\n  'use strict';\n\n  $(document).ready(initialize);\n\n  function initialize() {\n    $('#add-question').click(addQuestion);\n    $('.question-shell').on('click', '.add-possible', addPossibleAnswer);\n    $('#create-test').click(createTest);\n    $('#submit-test').click(submitTest);\n  }\n\n  function submitTest(event){\n    var testId = $('#testId').attr('data-testid');\n    var form = $('form#test').serializeArray();\n    ajax(`/learn/${testId}/grade`, 'POST', form, html=>{\n      // console.log(jsonObj);\n      // debugger;\n      // var results = $(`<div>You got ${jsonObj.correct} out of ${jsonObj.total} correct</div>`);\n      console.log(html);\n      $('#results').append(html);\n    });\n    event.preventDefault();\n  }\n\n  var form = [];\n  var test = [];\n\n  function createTest(){\n    form = $('form').serializeArray();\n    while(form.length > 0){\n      formatQuestionAnswers(form);\n    }\n    indexQuestions();\n\n    var contentId = $('#contentId').data('contentid');\n    var contentTitle = $('#contentId').text();\n    ajax(`/teacher/${contentId}/test/create`, 'POST', {contentId:contentId, contentTitle:contentTitle, qAndA:test}, ()=>{\n      window.location('/courses/edit');\n    });\n  }\n\n  function indexQuestions(){\n    for(var i = 0; i < test.length; i++){\n      var obj = {};\n      obj.index = i;\n      test[i].push(obj);\n    }\n  }\n\n  function formatQuestionAnswers(array){\n    var question = [];\n    for(var i = 0; i < 6; i++){\n      question.push(array[0]);\n      array.splice(0, 1);\n    }\n    test.push(question);\n  }\n\n  function addPossibleAnswer(event){\n    var answers = [];\n    $(this).prevAll('.possible-answer').map((index, a)=>{\n      answers.push($('<option>').text($(a).val()));\n    });\n    $(this).next('.answer').append(answers);\n    event.preventDefault();\n  }\n\n  function addQuestion(){\n    var question = $('.question:first').clone();\n    var option = $('<option>').text('Correct Answer');\n    $(question).children('.answer').empty().append(option);\n    $(question).children().val('').appendTo('.question-shell');\n  }\n\n\n})();\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]"]}
