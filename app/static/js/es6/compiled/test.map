{"version":3,"file":"test.js","sources":["/Users/nathanhood11/Documents/Code/web/app/static/js/es6/test.es6.js","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"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","sourcesContent":["/* global editor, _, json */\n/* jshint unused:false */\n\nfunction ajax(url, verb, data={}, success=r=>console.log(r), dataType='html'){//defaulting to html\n    'use strict';\n  $.ajax({url:url, type:verb, dataType:dataType, data:data, success:success});\n}\n\n(function() {\n  'use strict';\n\n  $(document).ready(initialize);\n\n  function initialize() {\n    createForm();\n    $('#add-answer').click(addPossibleAnswer);\n    $('.answer-box').on('blur', 'input:last', addAnswer);\n    $('.answer-box').on('click', 'button', deleteAnswer);\n    $('.created-questions').on('click', 'button', deleteQuestion);\n    $('#add-question').click(addQuestion);\n    // $('.question-shell').on('click', '.add-possible', addPossibleAnswer);\n    $('#create-test').click(createTest);\n    $('#submit-test').click(submitTest);\n  }\n\n  function createForm(){\n    $('.question').empty().append('<input class=form-control type=text, placeholder=\"Write Question\">');\n    $('.answer-box').empty().append('<input class=form-control type=text, placeholder=\"Possible Answer\">').append('<button class=btn>Delete</button>');\n    var answer = $('<select class=answer>').append('<option>Correct Answer</option>');\n    $('.correct-answer').empty().append(answer);\n  }\n\n  function addAnswer(){\n    var answer = [];\n    $('.answer-box').find('input').map((i, a)=>answer.push($(a).val()));\n    var options = answer.map(a=>$('<option>').text(a));\n    $('.answer').empty().append(options);\n  }\n\n  function addPossibleAnswer(){\n    $('.answer-box').append('<input class=form-control type=text, placeholder=\"Possible Answer\">').append('<button class=btn>Delete</button>');\n  }\n\n  function deleteAnswer(){\n    $(this).prev('input').remove();\n    $(this).remove();\n    addAnswer();\n  }\n\n  function addQuestion(event){\n    var question = $('.question').children().val();\n    var answers = [];\n    $('.answer-box').children().map((i, answer)=>answers.push($(answer).val()));\n    var correct = $('.answer > option').filter(':selected').text();\n    var contentId = $('#contentId').attr('data-contentid');\n    ajax(`/test/create/${contentId}`, 'POST', {question:question, answers:answers, correct:correct}, jsonObj=>{\n      // console.log(jsonObj);\n      var questions = jsonObj.test.qAndA.map(q=>q.question);\n      // var answers = jsonObj.test.qAndA.map(q=>q.answers);\n      var correct = jsonObj.test.qAndA.map(q=>q.correct);\n      var qDivs = questions.map((q, i)=>$('<div>').text((i*1+1)+') '+q+' - '+correct[i]).append('<button class=btn>Delete</button>'));\n      $('.created-questions').empty().append('<h2 class=created-q-header>Created Questions</h2>').append(qDivs);\n    }, 'json');\n    createForm();\n    event.preventDefault();\n  }\n\n  function deleteQuestion(event){\n    var question = $(this).parent().text().split(')')[0] - 1;\n    var contentId = $('#contentId').attr('data-contentid');\n    ajax(`/test/question/delete/${contentId}`, 'POST', {questionIndex:question}, jsonObj=>{\n      var questions = jsonObj.test.qAndA.map(q=>q.question);\n      // var answers = jsonObj.test.qAndA.map(q=>q.answers);\n      var correct = jsonObj.test.qAndA.map(q=>q.correct);\n      var qDivs = questions.map((q, i)=>$('<div>').text((i*1+1)+') '+q+' - '+correct[i]).append('<button class=btn>Delete</button>'));\n      $('.created-questions').empty().append('<h2 class=created-q-header>Created Questions</h2>').append(qDivs);\n    }, 'json');\n    event.preventDefault();\n  }\n\n\n  function submitTest(event){\n    var testId = $('#testId').attr('data-testid');\n    var form = $('form#test').serializeArray();\n    ajax(`/learn/${testId}/grade`, 'POST', form, html=>{\n      // console.log(jsonObj);\n      // debugger;\n      // var results = $(`<div>You got ${jsonObj.correct} out of ${jsonObj.total} correct</div>`);\n      console.log(html);\n      $('#results').append(html);\n    });\n    event.preventDefault();\n  }\n\n  var form = [];\n  var test = [];\n\n  function createTest(){\n    form = $('form').serializeArray();\n    while(form.length > 0){\n      formatQuestions(form);\n    }\n    indexQuestions();\n\n    var contentId = $('#contentId').data('contentid');\n    var contentTitle = $('#contentId').text();\n    ajax(`/teacher/${contentId}/test/create`, 'POST', {contentId:contentId, contentTitle:contentTitle, qAndA:test}, ()=>{\n      window.location('/courses/edit');\n    });\n  }\n\n  function indexQuestions(){\n    for(var i = 0; i < test.length; i++){\n      var obj = {};\n      obj.index = i;\n      test[i].push(obj);\n    }\n  }\n\n  function formatQuestions(array){\n    var question = [];\n    for(var i = 0; i < 6; i++){\n      question.push(array[0]);\n      array.splice(0, 1);\n    }\n    test.push(question);\n  }\n\n  // function addPossibleAnswer(event){\n  //   var answers = [];\n  //   $(this).prevAll('.possible-answer').map((index, a)=>{\n  //     answers.push($('<option>').text($(a).val()));\n  //   });\n  //   $(this).next('.answer').append(answers);\n  //   event.preventDefault();\n  // }\n\n  // function addQuestion(){\n  //   var question = $('.question:first').clone();\n  //   var option = $('<option>').text('Correct Answer');\n  //   $(question).children('.answer').empty().append(option);\n  //   $(question).children().val('').appendTo('.question-shell');\n  // }\n\n\n})();\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]"]}